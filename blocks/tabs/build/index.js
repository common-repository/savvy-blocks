!function(){"use strict";var e,t={899:function(){var e=window.wp.blocks,t=window.wp.element,a=window.wp.primitives,n=(0,t.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z"})),l=window.wp.i18n,c=window.wp.data,r=window.wp.blockEditor,o=window.wp.components,s=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),i=function(e){const{attributes:{activeTabIndex:a,tabs:n},setAttributes:s}=e,{innerBlocks:i}=(0,c.useSelect)((t=>({innerBlocks:t("core/block-editor").getBlocks(e.clientId)}))),b=n?.length||0;return(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(o.Panel,null,(0,t.createElement)(o.PanelBody,{title:"Tabs Settings"},(0,t.createElement)(o.SelectControl,{label:(0,l.__)("Initial active tab","savvy-blocks"),value:a,options:Array.from({length:b},((t,a)=>({label:e.attributes.tabs[a].title,value:a}))),onChange:e=>{return t=parseInt(e),(0,c.dispatch)("core/block-editor").updateBlockAttributes(i[a].clientId,{isActive:!1}),(0,c.dispatch)("core/block-editor").updateBlockAttributes(i[t].clientId,{isActive:!0}),void s({activeTabIndex:t});var t}}))))};(0,e.registerBlockType)("savvy-blocks/tabs",{edit:a=>{const{attributes:{blockId:n,activeTabIndex:l,tabs:b=[]},setAttributes:d,clientId:v}=a,{insertBlock:u}=(0,c.useDispatch)("core/block-editor"),{innerBlocks:k,selectedInnerBlock:m,blockInserted:p}=(0,c.useSelect)((e=>({innerBlocks:e("core/block-editor").getBlocks(a.clientId),selectedInnerBlock:e("core/block-editor").hasSelectedInnerBlock(a.clientId)?e("core/block-editor").getSelectedBlockClientId():null,blockInserted:e("core/block-editor").wasBlockJustInserted(a.clientId)}))),f=()=>{const t=(0,e.createBlock)("savvy-blocks/tab",{tabLabel:`Tab ${b.length+1}`,isActive:!1});u(t,b.length,v)};(0,t.useEffect)((()=>{p&&(d({blockId:v}),k.map(((e,t)=>{(0,c.dispatch)("core/block-editor").updateBlockAttributes(e.clientId,{tabPaneId:v+"-"+t})})))}),[]),(0,t.useEffect)((()=>{const e=[];l>=k.length&&d({activeTabIndex:0}),k.map(((t,a)=>{e[a]={...b[a],title:t?.attributes.tabLabel,tabPaneId:(p?v:n)+"-"+a,isActive:l===a},(0,c.dispatch)("core/block-editor").updateBlockAttributes(t.clientId,{isActive:l===a})})),e&&JSON.stringify(e)!==JSON.stringify(b)&&d({tabs:e})}),[k]);const I=(0,r.useBlockProps)({className:"savvy-tabs"});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i,a),(0,t.createElement)("div",I,(0,t.createElement)((e=>{const{tabs:a}=e;return(0,t.createElement)("ul",{className:"nav nav-tabs",role:"tablist"},a?.map(((e,a)=>{const n=e.clientId===m||wp.data.select("core/block-editor").hasSelectedInnerBlock(e.clientId);return(0,t.createElement)("li",{className:`nav-item ${n?"active":""} ${l===a?"default-active":""}`,role:"tab","aria-selected":"true",tabIndex:e.index,onClick:()=>{(0,c.dispatch)("core/block-editor").selectBlock(e.clientId)}},(0,t.createElement)("span",null,e.attributes.tabLabel))})),(0,t.createElement)("li",{className:"nav-item",role:"tab","aria-selected":"true",onClick:f},(0,t.createElement)("span",null,(0,t.createElement)(o.Icon,{icon:s}))))}),{tabs:k}),(0,t.createElement)("div",{className:"tab-content"},(0,t.createElement)(r.InnerBlocks,{allowedBlocks:["savvy-blocks/tab"],template:[["savvy-blocks/tab",{tabLabel:"Tab 1",isActive:!0}]]}))))},save:function(e){const{attributes:{activeTabIndex:a,tabs:n}}=e,l=r.useBlockProps.save({className:"savvy-tabs"});return(0,t.createElement)("div",l,(0,t.createElement)("ul",{className:"nav nav-tabs",role:"tablist"},n&&(e=>e.map(((e,n)=>(0,t.createElement)("li",{className:"nav-item "+(n===a?"active":""),role:"tab","aria-selected":n===a||"false",tabIndex:n,"data-bs-toggle":"tab","data-bs-target":`#tab-pane-${e?.tabPaneId}`},(0,t.createElement)(r.RichText.Content,{tagName:"span",value:e.title})))))(n)),(0,t.createElement)("div",{className:"tab-content"},(0,t.createElement)(r.InnerBlocks.Content,null)))},icon:{foreground:"#af5bfd",src:n}})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var c=a[e]={exports:{}};return t[e](c,c.exports,n),c.exports}n.m=t,e=[],n.O=function(t,a,l,c){if(!a){var r=1/0;for(b=0;b<e.length;b++){a=e[b][0],l=e[b][1],c=e[b][2];for(var o=!0,s=0;s<a.length;s++)(!1&c||r>=c)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(o=!1,c<r&&(r=c));if(o){e.splice(b--,1);var i=l();void 0!==i&&(t=i)}}return t}c=c||0;for(var b=e.length;b>0&&e[b-1][2]>c;b--)e[b]=e[b-1];e[b]=[a,l,c]},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,c,r=a[0],o=a[1],s=a[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(l in o)n.o(o,l)&&(n.m[l]=o[l]);if(s)var b=s(n)}for(t&&t(a);i<r.length;i++)c=r[i],n.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return n.O(b)},a=self.webpackChunksavvy_blocks=self.webpackChunksavvy_blocks||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var l=n.O(void 0,[431],(function(){return n(899)}));l=n.O(l)}();