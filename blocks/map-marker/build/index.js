!function(){"use strict";var e,t={147:function(){var e=window.wp.blocks,t=window.wp.element,n=window.wp.primitives,o=(0,t.createElement)(n.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(n.Path,{d:"M12 9c-.8 0-1.5.7-1.5 1.5S11.2 12 12 12s1.5-.7 1.5-1.5S12.8 9 12 9zm0-5c-3.6 0-6.5 2.8-6.5 6.2 0 .8.3 1.8.9 3.1.5 1.1 1.2 2.3 2 3.6.7 1 3 3.8 3.2 3.9l.4.5.4-.5c.2-.2 2.6-2.9 3.2-3.9.8-1.2 1.5-2.5 2-3.6.6-1.3.9-2.3.9-3.1C18.5 6.8 15.6 4 12 4zm4.3 8.7c-.5 1-1.1 2.2-1.9 3.4-.5.7-1.7 2.2-2.4 3-.7-.8-1.9-2.3-2.4-3-.8-1.2-1.4-2.3-1.9-3.3-.6-1.4-.7-2.2-.7-2.5 0-2.6 2.2-4.7 5-4.7s5 2.1 5 4.7c0 .2-.1 1-.7 2.4z"})),r=window.wp.blockEditor,a=window.wp.data,l=window.wp.i18n,s=window.wp.components;function c(e){const{onChange:n}=e,[o,r]=(0,t.useState)(""),[a,l]=(0,t.useState)([]);return(0,t.useEffect)((()=>{if(o){const e=setTimeout((function(){fetch(`https://nominatim.openstreetmap.org/search.php?q=${o}&format=jsonv2&limit=3`,{method:"GET",cache:"no-cache"}).then((e=>{e.json().then((e=>{l(e.map((e=>({label:e.display_name,value:[e.lat,e.lon]}))))}))}))}),500);return()=>clearTimeout(e)}}),[o]),(0,t.createElement)(s.ComboboxControl,{label:"Address",value:o,onChange:e=>{e&&n(e),r(""),l([])},options:a,onFilterValueChange:r,help:"Find coordinates by address"})}var i=function(e){const{attributes:{coordinates:n,label:o,tooltip:i},setAttributes:u,clientId:m}=e,{isInserted:v,parentAttributes:b}=(0,a.useSelect)((e=>{let t=e("core/block-editor").getBlockParents(m,!0)[0];const n=e("core/block-editor").getBlockAttributes(t);return{isInserted:e("core/block-editor").wasBlockJustInserted(m),parentAttributes:n}}));return(0,t.useEffect)((()=>{v&&u({coordinates:{...n,lat:b.coordinates.lat,long:b.coordinates.long}})}),[]),(0,t.createElement)(r.InspectorControls,null,(0,t.createElement)(s.PanelBody,null,(0,t.createElement)(c,{onChange:e=>u({coordinates:{lat:Number(e[0]),long:Number(e[1])}})}),(0,t.createElement)(s.BaseControl,null,(0,t.createElement)(s.RangeControl,{label:(0,l.__)("Long","savvy-blocks"),value:n?.long,onChange:e=>u({coordinates:{...n,long:e}}),step:.001,min:-180,max:180})),(0,t.createElement)(s.BaseControl,null,(0,t.createElement)(s.RangeControl,{label:(0,l.__)("Lat","savvy-blocks"),value:n?.lat,onChange:e=>u({coordinates:{...n,lat:e}}),step:.001,min:-180,max:180})),(0,t.createElement)(s.BaseControl,null,(0,t.createElement)(s.TextControl,{label:(0,l.__)("Label","savvy-blocks"),value:o,onChange:e=>u({label:e})})),(0,t.createElement)(s.BaseControl,null,(0,t.createElement)(s.TextControl,{label:(0,l.__)("Hover Text","savvy-blocks"),value:i,onChange:e=>u({tooltip:e})}))))};(0,e.registerBlockType)("savvy-blocks/map-marker",{edit:e=>{const{attributes:{label:n},clientId:o}=e,{markerType:l}=(0,a.useSelect)((e=>{let t=e("core/block-editor").getBlockParents(o,!0)[0];return{markerType:e("core/block-editor").getBlockAttributes(t)?.markerType}})),s="pin"===l?[["savvy-blocks/icon"]]:[["savvy-blocks/button"]],c=(0,r.useBlockProps)({className:"savvy-map-marker fw-bold"});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i,e),(0,t.createElement)("div",c,(0,t.createElement)("div",{className:"marker-label"},n||"Marker"),(0,t.createElement)(r.InnerBlocks,{allowedBlocks:["savvy-blocks/button","savvy-blocks/icon"],template:s,templateLock:"insert"})))},save:e=>{const{attributes:{coordinates:n,label:o,tooltip:a}}=e,l=r.useBlockProps.save({className:"savvy-map-marker","data-lat":n.lat,"data-long":n.long,"data-label":o,"data-tooltip":a||""});return(0,t.createElement)("div",l,(0,t.createElement)(r.InnerBlocks.Content,null))},icon:{foreground:"#af5bfd",src:o},parent:["savvy-blocks/map"]})}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=function(t,n,r,a){if(!n){var l=1/0;for(u=0;u<e.length;u++){n=e[u][0],r=e[u][1],a=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||l>=a)&&Object.keys(o.O).every((function(e){return o.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<l&&(l=a));if(s){e.splice(u--,1);var i=r();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,r,a]},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,a,l=n[0],s=n[1],c=n[2],i=0;if(l.some((function(t){return 0!==e[t]}))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var u=c(o)}for(t&&t(n);i<l.length;i++)a=l[i],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(u)},n=self.webpackChunksavvy_blocks=self.webpackChunksavvy_blocks||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var r=o.O(void 0,[431],(function(){return o(147)}));r=o.O(r)}();