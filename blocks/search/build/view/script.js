!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.jQuery,n=e.n(t);const s=savvyParams.siteUrl;let a=[];function o(e){var t=document.getElementById("search-form");if(t){let o=document.getElementById("input-search"),c=(!!o&&o.classList.contains("savvy-input-search"),!!o&&o.classList.contains("savvy-input-search-suggestion")),i=!!o&&o.classList.contains("savvy-input-search-custom");c&&!i&&(o.classList.contains("contains-autocomplete-value")||(o.value="",e.preventDefault()));for(var n=t.getElementsByTagName("input"),s=0;s<n.length;s++){var a=n[s];a.name&&!a.value&&(a.name="")}t.submit()}}document.addEventListener("DOMContentLoaded",(function(){document.getElementById("submit-filter").addEventListener("click",o);const e=document.querySelectorAll(".select-menu");e.forEach((t=>{const n=t.querySelector(".select-btn"),s=t.querySelectorAll(".option"),a=t.querySelector(".input-name"),o=t.querySelector(".input-value");n&&n.addEventListener("click",(()=>{var n;t.classList.toggle("active"),n=t,e.forEach((e=>{e!==n&&e.classList.remove("active")}))})),s.forEach((e=>{e.addEventListener("click",(()=>{const n=[],c=[];e.classList.toggle("selected"),s.forEach((e=>{const t=e.querySelector(".option-text").innerText,s=e.querySelector(".option-text").getAttribute("data-id");e.classList.contains("selected")&&(n.push(t),c.push(s))})),a.classList.toggle("input-name-placeholder",0===n.length),a.innerText=n.join(", ")||"Select",o.value=c.join(","),t.classList.remove("active")}))}))})),document.addEventListener("click",(t=>{t.target.closest(".select-menu")||e.forEach((e=>{e.classList.remove("active")}))})),async function(){let e=document.querySelector(".savvy-input-search");if(e.classList.contains("savvy-input-search-advanced"))!function(e){let t;function a(e){if(!e)return!1;(function(e){for(let t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")})(e),t>=e.length&&(t=0),t<0&&(t=e.length-1),e[t].classList.add("autocomplete-active")}function o(t){const n=document.getElementsByClassName("autocomplete-items");for(let s=0;s<n.length;s++)t!==n[s]&&t!==e&&n[s].parentNode.removeChild(n[s])}e.addEventListener("input",(function(n){const a=e.value;fetch(`${s}/wp-json/savvy/v1/search`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({post_type:e.dataset.postType,taxonomies:JSON.parse(e.dataset.taxonomies),search_text:a,count:4})}).then((n=>{n.json().then((n=>{const s=n;if(o(),!a)return!1;t=-1;const c=document.createElement("DIV");c.setAttribute("id",this.id+"-autocomplete-list"),c.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(c);for(let t=0;t<s.length;t++){const n=s[t].title,i=n.toUpperCase().indexOf(a.toUpperCase()),l=document.createElement("div");let r;l.classList.add("d-flex","justify-content-between");const u=document.createElement("span");u.innerText=s[t].type_name,l.dataset.value=n,s[t].link?(r=document.createElement("a"),r.href=s[t].link):(r=document.createElement("span"),l.addEventListener("click",(function(t){e.value=l.dataset.value,e.classList.add("contains-autocomplete-value"),o()}))),l.appendChild(r),l.appendChild(u),-1!==i?(r.innerHTML=n.substr(0,i),r.innerHTML+="<strong>"+n.substr(i,a.length)+"</strong>",r.innerHTML+=n.substr(i+a.length)):r.innerHTML=n,c.appendChild(l)}if(""===c.innerText){const e=document.createElement("DIV");e.setAttribute("class","alert alert-danger text-center my-8"),e.innerHTML="No Posts Found!",c.appendChild(e)}}))}))})),e.addEventListener("keydown",(function(e){let s=document.getElementById(this.id+"autocomplete-list");s?s=s.getElementsByTagName("div"):13===e.keyCode&&n()(".button-search ").click(),40===e.keyCode?(t++,a(s)):38===e.keyCode?(t--,a(s)):13===e.keyCode&&(e.preventDefault(),t>-1?s&&s[t].click():n()(".button-search ").click())})),document.addEventListener("click",(function(e){o(e.target)}))}(e);else{let t=document.querySelector(".savvy-input-search-suggestion"),o=e&&e.getAttribute("data-post-type");const c=await fetch(`${s}/wp-json/savvy/v1/search`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({post_type:o||"post",count:3})}),i=await c.json();a=Array.isArray(i)&&i.map((e=>e.title)),function(e,t){let s;function a(e){if(!e)return!1;(function(e){for(let t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")})(e),s>=e.length&&(s=0),s<0&&(s=e.length-1),e[s].classList.add("autocomplete-active")}function o(t){const n=document.getElementsByClassName("autocomplete-items");for(let s=0;s<n.length;s++)t!==n[s]&&t!==e&&n[s].parentNode.removeChild(n[s])}e&&(e.addEventListener("input",(function(n){let a=this.value;if(o(),!a)return!1;s=-1;const c=document.createElement("DIV");c.setAttribute("id",this.id+"-autocomplete-list"),c.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(c);for(let n=0;n<t.length;n++){const s=t[n].toUpperCase().indexOf(a.toUpperCase());if(-1!==s){const i=document.createElement("DIV");i.innerHTML=t[n].substr(0,s),i.innerHTML+="<strong>"+t[n].substr(s,a.length)+"</strong>",i.innerHTML+=t[n].substr(s+a.length),i.innerHTML+="<input type='hidden' value='"+t[n]+"'>",["mouseover","touchstart"].forEach((function(t){i.addEventListener(t,(function(t){e.value=this.getElementsByTagName("input")[0].value}))})),i.addEventListener("click",(function(t){e.value=this.getElementsByTagName("input")[0].value,e.classList.add("contains-autocomplete-value"),o()})),c.appendChild(i)}}if(""===c.innerText){const e=document.createElement("DIV");e.setAttribute("class","alert alert-danger text-center my-8"),e.innerHTML="No Posts Found!",c.appendChild(e)}})),e.addEventListener("keydown",(function(e){let t=document.getElementById(this.id+"autocomplete-list");t?t=t.getElementsByTagName("div"):13===e.keyCode&&n()(".button-search ").click(),40===e.keyCode?(s++,a(t)):38===e.keyCode?(s--,a(t)):13===e.keyCode&&(e.preventDefault(),s>-1?t&&t[s].click():n()(".button-search ").click())}))),document.addEventListener("click",(function(e){o(e.target)}))}(t,a)}}()}))}();