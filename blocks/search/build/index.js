!function(){"use strict";var e,t={269:function(e,t,n){var o=window.wp.blocks,a=window.wp.element,l=window.wp.primitives,r=(0,a.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(l.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"})),c=window.wp.blockEditor,s=window.wp.serverSideRender,i=n.n(s),u=window.wp.i18n,v=window.wp.data,m=window.wp.apiFetch,d=n.n(m),p=window.wp.components,h=function(e){const{attributes:{autoComplete:t,customSearch:n,advancedCustomSearch:o,postType:l,searchFields:r},setAttributes:s}=e,[i,m]=(0,a.useState)([{name:"Post",slug:"post"}]),[h,f]=(0,a.useState)([]);return(0,v.useSelect)((e=>{const t=e("core").getPostTypes(),n=["attachment"];if(t){const e=t.filter((e=>!0===e.viewable&&!n.includes(e.slug)));m(e)}}),[]),(0,a.useEffect)((()=>{d()({path:`/savvy/v1/post-taxonomies/${l}`}).then((e=>{let t=e.map((e=>({label:e.name,value:e.taxonomy_key})));f(t)}))}),[l]),(0,a.createElement)(c.InspectorControls,null,(0,a.createElement)(p.PanelBody,null,(0,a.createElement)(p.SelectControl,{label:"Select Post Type",value:l||"post",options:[...i.map((e=>({label:e?.labels?.singular_name||e.name,value:e.slug})))],onChange:e=>{s({postType:e,searchFields:{...r,customMeta:[]}})}})),(0,a.createElement)(p.PanelBody,{title:(0,u.__)("Auto Complete","savvy-blocks"),initialOpen:!1},(0,a.createElement)(p.ToggleControl,{label:(0,u.__)("Auto Complete With Post Title","savvy-blocks"),checked:t,onChange:e=>s({autoComplete:e})}),t&&(0,a.createElement)(p.ToggleControl,{label:(0,u.__)("Custom Search","savvy-blocks"),checked:n,onChange:e=>s({customSearch:e})}),t&&n&&(0,a.createElement)(p.ToggleControl,{label:(0,u.__)("Advanced Custom Search","savvy-blocks"),checked:o?.active,onChange:e=>s({advancedCustomSearch:{...o,active:e}})}),t&&n&&o?.active&&(0,a.createElement)(a.Fragment,null,h?.map((e=>(0,a.createElement)(p.CheckboxControl,{label:e.label,checked:o?.fields?.includes(e.value)||!1,onChange:t=>{let n=o?.fields||[];if(t)n.push(e.value);else{const t=n.indexOf(e.value);t>-1&&n.splice(t,1)}s({advancedCustomSearch:{...o,fields:n}})}}))))),(0,a.createElement)(p.PanelBody,{title:(0,u.__)("Search Inputs","savvy-blocks"),initialOpen:!1},[{label:"Text",value:"text"}]?.map((e=>{return(0,a.createElement)(p.CheckboxControl,{label:e.label,checked:r[e?.value]||!1,onChange:(t=e.value,e=>{s({searchFields:{...r,[t]:e}})})});var t})),h?.map((e=>(0,a.createElement)(p.CheckboxControl,{label:e.label,checked:r?.customTaxonomies?.includes(e.value)||!1,onChange:t=>{let n=r?.customTaxonomies||[];if(t)n.push(e.value);else{const t=n.indexOf(e.value);t>-1&&n.splice(t,1)}s({searchFields:{...r,customTaxonomies:n}})}})))))};(0,o.registerBlockType)("savvy-blocks/search",{edit:e=>{const{attributes:{autoComplete:t,customSearch:n,searchFields:o},setAttributes:l}=e,r=(0,c.useBlockProps)();return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(h,e),(0,a.createElement)("div",r,(0,a.createElement)(i(),{block:"savvy-blocks/search",attributes:{autoComplete:t,customSearch:n,searchFields:o}})))},icon:{foreground:"#af5bfd",src:r}})}},n={};function o(e){var a=n[e];if(void 0!==a)return a.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,o),l.exports}o.m=t,e=[],o.O=function(t,n,a,l){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],l=e[u][2];for(var c=!0,s=0;s<n.length;s++)(!1&l||r>=l)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(c=!1,l<r&&(r=l));if(c){e.splice(u--,1);var i=a();void 0!==i&&(t=i)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[n,a,l]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,l,r=n[0],c=n[1],s=n[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(s)var u=s(o)}for(t&&t(n);i<r.length;i++)l=r[i],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},n=self.webpackChunksavvy_blocks=self.webpackChunksavvy_blocks||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var a=o.O(void 0,[431],(function(){return o(269)}));a=o.O(a)}();